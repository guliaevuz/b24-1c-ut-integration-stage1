# Acceptance Checklist — Этап 1 (v1GPT)

Документ описывает критерии приемки интеграции  
**Битрикс24 ↔ 1С:Управление торговлей** (Этап 1).

Версия документа: **v1GPT**  
Источник требований: ТЗ «Этап 1. Перенос сделки, запуск БП, обратная синхронизация»

---

## 1. Общие условия приемки

### 1.1. Среда
- Интеграция проверяется на тестовом или рабочем портале Битрикс24.
- Проверка выполняется в конфигурации **1С УТ**, поддерживающей объект «Сделка с клиентом».
- Используется **REST API Битрикс24 (входящий вебхук)**.

### 1.2. Ограничения
- Регламентные задания **не используются** (запуск по кнопке).
- Интеграция работает **односторонне**: Б24 → 1С (создание) + обратная запись статуса.
- Обмен заказами и финансовыми документами **не входит** в этап 1.

---

## 2. Получение и отображение сделок из Битрикс24

### 2.1. Отбор сделок
При запуске внешней обработки в 1С:

- [ ] Получаются сделки из Битрикс24, находящиеся на стадии  
  **«Запустить БП в 1С УТ»**
- [ ] В выборку попадают только сделки, у которых пользовательское поле  
  **«Сделка 1С УТ» не заполнено**
- [ ] Сделки с заполненным полем «Сделка 1С УТ» **не попадают в основной список**

### 2.2. Отображение в форме
- [ ] Список сделок отображается в форме внешней обработки 1С
- [ ] Для каждой сделки отображается минимум:
  - ID сделки Б24
  - Название сделки
- [ ] Пользователь может выбрать сделку для обработки

---

## 3. Создание сделки в 1С УТ

### 3.1. Создание объекта
При выборе сделки и запуске команды создания:

- [ ] В 1С создаётся объект **«Сделка с клиентом»**
- [ ] Создание происходит **один раз** (повторное создание не допускается)

### 3.2. Заполнение полей (по маппингу)

Проверяется корректность заполнения:

- [ ] **Тема** — соответствует названию сделки из Б24
- [ ] **Клиент** — установлен в значение  
  **«Виртуальный Партнер»**
- [ ] **Проект** — заполнен по данным проекта из Б24
- [ ] **Описание сделки** — содержит данные клиента (название / компания)
- [ ] **Организация** — установлена в  
  **«ИННТЕРИ»**
- [ ] **Подразделение** — установлено в  
  **«UV-print»**
- [ ] **Автор** — соответствует ответственному в Битрикс24
- [ ] **ID Битрикс** — содержит ID исходной сделки Б24

---

## 4. Запуск бизнес-процесса в 1С

- [ ] После создания сделки автоматически запускается связанный бизнес-процесс
- [ ] БП запускается **без участия пользователя**
- [ ] БП связан именно с созданной сделкой

---

## 5. Обратная запись данных в Битрикс24

### 5.1. Заполнение пользовательского поля
После успешного создания сделки в 1С:

- [ ] В Битрикс24 заполняется пользовательское поле  
  **«Сделка 1С УТ»**
- [ ] В поле записан **номер сделки 1С**

### 5.2. Обновление названия сделки
- [ ] В начало названия сделки в Б24 добавляется номер сделки 1С
- [ ] Формат добавления номера:
